'\" t
.\" Automatically generated by Pandoc 3.1.1
.\"
.\" Define V font for inline verbatim, using C font in formats
.\" that render this, and otherwise B font.
.ie "\f[CB]x\f[]"x" \{\
. ftr V B
. ftr VI BI
. ftr VB B
. ftr VBI BI
.\}
.el \{\
. ftr V CR
. ftr VI CI
. ftr VB CB
. ftr VBI CBI
.\}
.TH "WIDERIVER" "1" "2024/03/02" "wideriver" "User Manuals"
.hy
.SH NAME
.PP
\f[V]wideriver\f[R] - tiling window manager for the river wayland compositor
.SH SYNOPSIS
.PP
\f[V]wideriver\f[R] [\f[I]OPTION\f[R]\&...|\f[I]COMMAND\f[R]\&...]
.SH DESCRIPTION
.PP
Tiling window manager for the river (https://github.com/riverwm/river) wayland compositor, inspired by dwm (https://dwm.suckless.org/) and xmonad (https://xmonad.org/)
.IP \[bu] 2
Per-tag state
.IP \[bu] 2
Master/stack(s) left, right and wide layouts
.IP \[bu] 2
Monocle with alternate borders
.IP \[bu] 2
Layout toggling
.IP \[bu] 2
Dwindling, diminishing and even stacks
.PP
.TS
tab(@);
l l l l l.
T{
Layout
T}@T{
Symbol
T}@T{
Master
T}@T{
Stack
T}@T{
Directions
T}
_
T{
Left
T}@T{
\f[V]│ ├─┤\f[R]
T}@T{
Left
T}@T{
Right
T}@T{
Down, Right
T}
T{
Right
T}@T{
\f[V]├─┤ │\f[R]
T}@T{
Right
T}@T{
Left
T}@T{
Down, Left
T}
T{
Top
T}@T{
\f[V]├─┬─┤\f[R]
T}@T{
Top
T}@T{
Bottom
T}@T{
Right, Down
T}
T{
Bottom
T}@T{
\f[V]├─┴─┤\f[R]
T}@T{
Bottom
T}@T{
Top
T}@T{
Right, Up
T}
T{
Wide
T}@T{
\f[V]├─┤ ├─┤\f[R]
T}@T{
Mid
T}@T{
Left
T}@T{
Up, Left
T}
T{
T}@T{
T}@T{
T}@T{
Right
T}@T{
Down, Right
T}
T{
Monocle
T}@T{
\f[V]│ n │\f[R]
T}@T{
All
T}@T{
-
T}@T{
-
T}
.TE
.SH QUICK START
.PP
\f[V]$XDG_CONFIG_HOME/river/init\f[R]
.PP
Set the layout generator and start it.
.PP
All defaults shown here, none are required.
.PP
Log is strongly recommended.
.IP
.nf
\f[C]
wideriver \[rs]
    --layout                       left        \[rs]
    --layout-alt                   monocle     \[rs]
    --stack                        dwindle     \[rs]
    --count-master                 1           \[rs]
    --ratio-master                 0.50        \[rs]
    --count-wide-left              0           \[rs]
    --ratio-wide                   0.35        \[rs]
    --border-width                 2           \[rs]
    --border-width-monocle         0           \[rs]
    --border-color-focused         \[dq]0x93a1a1\[dq]  \[rs]
    --border-color-focused-monocle \[dq]0x586e75\[dq]  \[rs]
    --border-color-unfocused       \[dq]0x586e75\[dq]  \[rs]
    --log-threshold                info        \[rs]
   > \[dq]/tmp/wideriver.${XDG_VTNR}.${USER}.log\[dq] 2>&1 &
\f[R]
.fi
.PP
Create some command mappings e.g.
.IP
.nf
\f[C]
riverctl map normal $mod1 up    send-layout-cmd wideriver \[dq]--layout monocle\[dq]
riverctl map normal $mod1 down  send-layout-cmd wideriver \[dq]--layout wide\[dq]
riverctl map normal $mod1 left  send-layout-cmd wideriver \[dq]--layout left\[dq]
riverctl map normal $mod1 right send-layout-cmd wideriver \[dq]--layout right\[dq]

riverctl map normal $mod1 Space send-layout-cmd wideriver \[dq]--layout-toggle\[dq]

riverctl map normal $mod1 plus  send-layout-cmd wideriver \[dq]--ratio +0.025\[dq]
riverctl map normal $mod1 equal send-layout-cmd wideriver \[dq]--ratio 0.35\[dq]
riverctl map normal $mod1 minus send-layout-cmd wideriver \[dq]--ratio -0.025\[dq]

riverctl map normal $mod2 plus  send-layout-cmd wideriver \[dq]--count +1\[dq]
riverctl map normal $mod2 equal send-layout-cmd wideriver \[dq]--count 1\[dq]
riverctl map normal $mod2 minus send-layout-cmd wideriver \[dq]--count -1\[dq]

riverctl map normal $mod2 e     send-layout-cmd wideriver \[dq]--stack even\[dq]
riverctl map normal $mod2 w     send-layout-cmd wideriver \[dq]--stack dwindle\[dq]
riverctl map normal $mod2 i     send-layout-cmd wideriver \[dq]--stack diminish\[dq]
\f[R]
.fi
.SH EXAMPLE LAYOUTS AND STACKS
.SS Left, Dwindle
.PP
\f[V]riverctl send-layout-cmd wideriver \[dq]--layout left --stack dwindle --count 1 --ratio 0.5\[dq]\f[R]
.IP
.nf
\f[C]
          Master                          Stack
____________________________________________________________
|                            |                             |
|                            |                             |
|                            |              2              |
|                            |                             |
|                            |                             |
|           1                |_____________________________|
|                            |              |              |
|                            |              |      4       |
|                            |      3       |______________|
|                            |              |      |       |
|                            |              |  5   |   6   |
|____________________________|______________|______|_______|
\f[R]
.fi
.PP
The master area occupies half of the available space and contains one view.
.PP
The stack is filled in a diminishing manner in a downward then rightward directions.
.PP
2 may be moved into the master area with \f[V]riverctl send-layout-cmd wideriver \[dq]--count +1\[dq]\f[R] and will be evenly placed below 1.
.SS Right, Even
.PP
\f[V]riverctl send-layout-cmd wideriver \[dq]--layout right --stack even --count 2 --ratio 0.55\[dq]\f[R]
.IP
.nf
\f[C]
            Stack                       Master              
____________________________________________________________
|                         |                                |
|                         |                                |
|             3           |                1               |
|_________________________|                                |
|                         |                                |
|                         |________________________________|
|             4           |                                |
|_________________________|                                |
|                         |                2               |
|                         |                                |
|             5           |                                |
|_________________________|________________________________|
\f[R]
.fi
.PP
The master area occupies 55% of the available width and contains two views split evenly.
.PP
The stack is split evenly and is filled in a downwards direction.
.SS Wide, Diminish
.PP
\f[V]riverctl send-layout-cmd wideriver \[dq]--layout wide --stack diminish --count 3 --ratio 0.4\[dq]\f[R]
.IP
.nf
\f[C]
          Left Stack               Master                     Right Stack           
________________________________________________________________________________
|          1           |                               |                       |
|______________________|                               |                       |
|                      |                               |          5            |
|          2           |                               |                       |
|                      |                               |_______________________|
|______________________|                               |                       |
|                      |             4                 |          6            |
|                      |                               |                       |
|                      |                               |_______________________|
|          3           |                               |          7            |
|                      |                               |_______________________|
|______________________|_______________________________|__________8____________|
\f[R]
.fi
.PP
The master area occupies 40% of the available with and contains one view.
.PP
The left stack contains 3 views, the right stack the remainder.
.PP
The left and right stacks each occupy 30% of the available width.
.PP
5 may be moved into the master area with \f[V]riverctl send-layout-cmd wideriver \[dq]--count +1\[dq]\f[R].
4 will be placed at the \[lq]top\[rq] of the stack, below 3.
.SS Monocle
.PP
\f[V]riverctl send-layout-cmd wideriver \[dq]--layout monocle\[dq]\f[R]
.IP
.nf
\f[C]
____________________________________________________________
|                                                          |
|                                                          |
|                                                          |
|                                                          |
|                                                          |
|                            1                             |
|                             2                            |
|                              3                           |
|                               4                          |
|                                5                         |
|                                 6                        |
|__________________________________________________________|
\f[R]
.fi
.PP
Only the currently focused view will be visible.
.SH LAYOUTS
.PP
The symbol is the layout name which may be shown in a status bar such as Waybar (https://github.com/Alexays/Waybar)\[cq]s river/layout (https://github.com/Alexays/Waybar/wiki/Module:-River#layout) module.
.PP
Dynamic settings are available via COMMANDS
.PP
\f[I]ratio\f[R] and \f[I]count\f[R] are persisted per tag and shared by all layouts except wide, which has its own values.
.PP
\f[I]stack\f[R] is persisted per tag and shared by all layouts.
.PP
When multiple tags are focused, the state is persisted for only the lowest tag.
.SS Left / Right
.PP
One master area occupying the full height of the available area with a stack area to the left or right.
.PP
\f[I]ratio\f[R] is the proportion of the available area occupied by master.
.PP
\f[I]count\f[R] is the number of evenly evenly stacked views in the master area.
.PP
Left: \f[V]│ ├─┤\f[R] when \f[I]count\f[R] > 0 otherwise \f[V]│├──┤\f[R]
.PP
Right: \f[V]├─┤ │\f[R] when \f[I]count\f[R] > 0 otherwise \f[V]├──┤│\f[R]
.SS Wide
.PP
One master area occupying the full height of the available area with a stack area to the left and the right.
.PP
\f[I]ratio\f[R] is the proportion of the available area occupied by master.
Stacks occupy half of the remaining area.
.PP
\f[I]count\f[R] is the number of views in the left stack.
.PP
Master is centred when there are left and right stacks, otherwise it expands into the area that would be occupied the empty stacks.
.PP
\f[V]├─┤ ├─┤\f[R] when \f[I]count\f[R] > 0 otherwise \f[V]││  ├─┤\f[R]
.SS Monocle
.PP
Only one view is focused, occupying all of the available space.
.PP
\f[V]│ n │\f[R] with \f[V]n\f[R] showing number of views only when greater than 1.
.SH STACK ARRANGEMENTS
.PP
3 arrangements are available for the stack area.
It is persisted per tag and applied to all layouts for that tag.
See above for an example of each arrangement.
.PP
Stacks follow one or two directions determined by the layout.
.SS Even
.PP
This is the \[lq]traditional\[rq] arrangement with uniformly sized stack views.
.PP
Arranged in a column or row in the first stack direction only.
.SS Diminish
.PP
Arranged in a column or row in the first stack direction only.
.PP
Height or width diminishes according to the view\[cq]s position in the stack:
.PP
\f[V]2p / (n\[ha]2 + n)\f[R]
.PP
\f[V]n\f[R] number of views in the stack
.PP
\f[V]p\f[R] position in the stack
.SS Dwindle
.PP
Arranged in a dwindling manner alternating in both stack directions.
.PP
Each view occupies half the available / remaining area.
.SH OPTIONS
.TP
\f[V]--layout\f[R] \f[V]monocle\f[R]|\f[V]left\f[R]|\f[V]right\f[R]|\f[V]top\f[R]|\f[V]bottom\f[R]|\f[V]wide\f[R]
Initial layout, default \f[V]left\f[R].
.TP
\f[V]--layout-alt\f[R] \f[V]monocle\f[R]|\f[V]left\f[R]|\f[V]right\f[R]|\f[V]top\f[R]|\f[V]bottom\f[R]|\f[V]wide\f[R]
Initial alternate layout, default \f[V]monocle\f[R].
Use \f[V]--layout-toggle\f[R] to switch to alternate layout.
.TP
\f[V]--stack\f[R] \f[V]even\f[R]|\f[V]diminish\f[R]|\f[V]dwindle\f[R]
Initial stacking method, default \f[V]dwindle\f[R].
.TP
\f[V]--count-master\f[R] \f[I]count\f[R]
Initial number of views in the master area, default \f[V]1\f[R], minimum \f[V]0\f[R].
Does not apply to wide layout.
.TP
\f[V]--ratio-master\f[R] \f[I]ratio\f[R]
Initial proportion of the width or height the master area occupies, default \f[V]0.5\f[R], minimum \f[V]0.1\f[R], maximum \f[V]0.9\f[R].
Does not apply to wide layout.
.TP
\f[V]--count-wide-left\f[R] \f[I]count\f[R]
Initial number of views in the wide layout\[cq]s left stack area, default \f[V]1\f[R], minimum \f[V]0\f[R].
You may wish to set this to 0 for a more natural or intuitive feel when launching the first two views.
.TP
\f[V]--ratio-wide\f[R] \f[I]ratio\f[R]
Initial proportion of the width the wide layout\[cq]s master area occupies, default \f[V]0.35\f[R], minimum \f[V]0.1\f[R], maximum \f[V]0.9\f[R].
The default value is best suited to ultrawide monitors, a value of \f[V]0.5\f[R] may be more useful for 16:9 monitors.
.TP
\f[V]--border-width\f[R] \f[I]pixels\f[R]
Border width for all layouts except monocle, default \f[V]2\f[R], minimum \f[V]0\f[R].
.TP
\f[V]--border-width-monocle\f[R] \f[I]pixels\f[R]
Border width for monocle layout, default \f[V]0\f[R], minimum \f[V]0\f[R].
.TP
\f[V]--border-color-focused\f[R] \f[V]0x\f[R]\f[I]RRGGBB\f[R][\f[I]AA\f[R]]
Border color for focused views in all layouts excluding monocle, default \f[V]0x93a1a1\f[R].
.TP
\f[V]--border-color-focused-monocle\f[R] \f[V]0x\f[R]\f[I]RRGGBB\f[R][\f[I]AA\f[R]]
Border color for focused view in monocle layout, default \f[V]0x586e75\f[R].
It is recommended to set this to the unfocused color or a darker colour as an always focused border can be distracting.
.TP
\f[V]--border-color-unfocused\f[R] \f[V]0x\f[R]\f[I]RRGGBB\f[R][\f[I]AA\f[R]]
Border color for unfocused views in all layouts, default \f[V]0x586e75\f[R].
Does not apply for monocle layout.
.TP
\f[V]--log-threshold\f[R] \f[V]debug\f[R]|\f[V]info\f[R]|\f[V]warning\f[R]|\f[V]error\f[R]
Minimum log level, default \f[V]info\f[R].
.SH COMMANDS
.PP
When multiple tags are focused, the command is applied to and persisted for only the lowest tag.
.TP
\f[V]--layout\f[R] \f[V]monocle\f[R]|\f[V]left\f[R]|\f[V]right\f[R]|\f[V]top\f[R]|\f[V]bottom\f[R]|\f[V]wide\f[R]
Set layout persistently for the tag, updating the alternate layout.
.TP
\f[V]--layout-toggle\f[R]
Set layout to the alternate (previous) for the tag.
.TP
\f[V]--stack\f[R] \f[V]diminish\f[R]|\f[V]dwindle\f[R]|\f[V]dwindle\f[R]
Set stacking method persistently for the tag.
Applies to all layouts for the tag.
.TP
\f[V]--count\f[R] [\f[V]+-\f[R]]\f[I]count\f[R]
Increment, decrement or set the master count, minimum \f[V]0\f[R].
For wide layout this is instead the left stack count.
Discrete value for wide and all other layouts are persisted per tag.
Prefix with \f[V]+\f[R] to increment, \f[V]-\f[R] to decrement, or an absolute value.
.TP
\f[V]--ratio\f[R] [\f[V]+-\f[R]]\f[I]pixels\f[R]
Increase, decrease or set the master ratio: the proportion of the width or height the master area occupies, minimum \f[V]0.1\f[R], maximum \f[V]0.9\f[R].
Discrete tiling and wide values persisted per tag.
Prefix with \f[V]+\f[R] to increase, \f[V]-\f[R] to decrease, or an absolute value.
.SH RECIPES
.SS Wide Shuffling
.PP
You can \[lq]shuffle\[rq] views through master, focusing the new master using:
.PP
\f[V]riverctl send-layout-cmd wideriver \[aq]--count +1\[aq] && riverctl focus-view next\[dq]\f[R]
.PP
\f[V]riverctl send-layout-cmd wideriver \[aq]--count -1\[aq] && riverctl focus-view previous\[dq]\f[R]
.SH FAQ
.SS Name Does Not Always Update
.PP
The layout name will not update when there are no views for the selected tags.
This can occurs when setting a tag with no views or changing the layout for a tag with no views.
.PP
This will require a change to river or a questionable workaround.
.SH Issues
.PP
Please create a github issue (https://github.com/alex-courtis/wideriver/issues):
.IP \[bu] 2
attach your log
.IP \[bu] 2
add \f[V]river -version\f[R]
.IP \[bu] 2
describe the behaviour
.IP \[bu] 2
screenshots may be useful
.SH SEE ALSO
.PP
https://github.com/alex-courtis/wideriver
.SH AUTHORS
Alexander Courtis.
